# kof

![Version: 1.8.0-rc0](https://img.shields.io/badge/Version-1.8.0--rc0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 1.8.0-rc0](https://img.shields.io/badge/AppVersion-1.8.0--rc0-informational?style=flat-square)

KOF umbrella Helm chart that uses FluxCD to manage sequential installation of KOF components

**Homepage:** <https://github.com/k0rdent/kof>

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| k0rdent |  | <https://github.com/k0rdent> |

## Source Code

* <https://github.com/k0rdent/kof>

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| flux | object | `{"install":{"createNamespace":true,`<br>`"remediation":{"retries":5}},`<br>`"retries":5,`<br>`"timeout":"20m",`<br>`"upgrade":{"retryInterval":"1m"}}` | FluxCD HelmRelease configuration |
| flux<br>.install | object | `{"createNamespace":true,`<br>`"remediation":{"retries":5}}` | Install behavior |
| flux<br>.retries | int | `5` | Number of retries on failure |
| flux<br>.timeout | string | `"20m"` | Timeout for Helm operations |
| flux<br>.upgrade | object | `{"retryInterval":"1m"}` | Upgrade behavior |
| global | object | `{"components":["kof-operators",`<br>`"kof-mothership",`<br>`"kof-regional",`<br>`"kof-child",`<br>`"kof-storage",`<br>`"kof-collectors"],`<br>`"helmRepo":{"existing":{"namespace":"kcm-system"},`<br>`"interval":"10m",`<br>`"kofManaged":{"enabled":true,`<br>`"insecure":false,`<br>`"type":"oci",`<br>`"url":"oci://ghcr.io/k0rdent/kof/charts"},`<br>`"name":"kof-repo"},`<br>`"namespace":"kof"}` | Global configuration for KOF installation |
| global<br>.components | list | `["kof-operators",`<br>`"kof-mothership",`<br>`"kof-regional",`<br>`"kof-child",`<br>`"kof-storage",`<br>`"kof-collectors"]` | List of KOF components to manage |
| global<br>.helmRepo | object | `{"existing":{"namespace":"kcm-system"},`<br>`"interval":"10m",`<br>`"kofManaged":{"enabled":true,`<br>`"insecure":false,`<br>`"type":"oci",`<br>`"url":"oci://ghcr.io/k0rdent/kof/charts"},`<br>`"name":"kof-repo"}` | Helm repository configuration for KOF charts |
| global<br>.helmRepo<br>.existing | object | `{"namespace":"kcm-system"}` | Reference of existing repo |
| global<br>.helmRepo<br>.existing<br>.namespace | string | `"kcm-system"` | Namespace of existing repo (if kofManaged.enabled: false) |
| global<br>.helmRepo<br>.interval | string | `"10m"` | Interval for repository sync (only for non-OCI repos) |
| global<br>.helmRepo<br>.kofManaged | object | `{"enabled":true,`<br>`"insecure":false,`<br>`"type":"oci",`<br>`"url":"oci://ghcr.io/k0rdent/kof/charts"}` | Configuration of a new repo managed by KOF |
| global<br>.helmRepo<br>.kofManaged<br>.enabled | bool | `true` | Disabled for local development |
| global<br>.helmRepo<br>.kofManaged<br>.insecure | bool | `false` | Use http protocol if true |
| global<br>.helmRepo<br>.kofManaged<br>.type | string | `"oci"` | Type of repository: oci or default |
| global<br>.helmRepo<br>.kofManaged<br>.url | string | `"oci://ghcr.io/k0rdent/kof/charts"` | URL of the Helm repository |
| global<br>.helmRepo<br>.name | string | `"kof-repo"` | Repository name |
| global<br>.namespace | string | `"kof"` | Namespace where KOF components will be installed |
| kof-child | object | `{"dependsOn":["kof-mothership"],`<br>`"enabled":true,`<br>`"notes":"Child cluster templates",`<br>`"values":{"collectors":{"resources":{"limits":{"cpu":"500m",`<br>`"memory":"512Mi"},`<br>`"requests":{"cpu":"100m",`<br>`"memory":"256Mi"}}}}}` | KOF Child - MultiClusterService template for child clusters |
| kof-child<br>.dependsOn | list | `["kof-mothership"]` | Wait for kof-mothership to be ready |
| kof-child<br>.values | object | `{"collectors":{"resources":{"limits":{"cpu":"500m",`<br>`"memory":"512Mi"},`<br>`"requests":{"cpu":"100m",`<br>`"memory":"256Mi"}}}}` | Values to pass to kof-child chart |
| kof-collectors | object | `{"dependsOn":["kof-storage"],`<br>`"enabled":false,`<br>`"notes":"Opentelemetry collectors and OpenCost",`<br>`"values":{"collectors":{"enabled":true},`<br>`"metrics-server":{"enabled":false},`<br>`"opencost":{"enabled":true}}}` | KOF Collectors - OpenTelemetry collectors and OpenCost. Disabled by default for production (deployed per cluster via kof-child). Enable for local/single-cluster deployments |
| kof-collectors<br>.dependsOn | list | `["kof-storage"]` | Wait for kof-storage to be ready |
| kof-collectors<br>.values | object | `{"collectors":{"enabled":true},`<br>`"metrics-server":{"enabled":false},`<br>`"opencost":{"enabled":true}}` | Values to pass to kof-collectors chart |
| kof-mothership | object | `{"dependsOn":["kof-operators",`<br>`"victoria-metrics-operator"],`<br>`"enabled":true,`<br>`"notes":"Management cluster components",`<br>`"values":{"cert-manager":{"enabled":true},`<br>`"cert-manager-service-template":{"enabled":true},`<br>`"cluster-api-visualizer":{"enabled":false},`<br>`"defaultRules":{"create":true,`<br>`"rules":{"general":true,`<br>`"kubernetesApps":true,`<br>`"kubernetesResources":true,`<br>`"kubernetesStorage":true,`<br>`"kubernetesSystem":true,`<br>`"node":true}},`<br>`"dex":{"enabled":false},`<br>`"global":{"storageClass":""},`<br>`"grafana":{"enabled":false,`<br>`"ingress":{"enabled":false,`<br>`"host":"grafana.example.com"},`<br>`"security":{"create_secret":true}},`<br>`"kcm":{"kof":{"acl":{"enabled":false,`<br>`"image":{"registry":"ghcr.io/k0rdent",`<br>`"repository":"kof/kof-acl-server"}},`<br>`"mcs":{},`<br>`"operator":{"crossNamespace":false,`<br>`"enabled":true,`<br>`"image":{"pullPolicy":"IfNotPresent",`<br>`"registry":"ghcr.io/k0rdent",`<br>`"repository":"kof/kof-operator-controller"},`<br>`"resources":{"limits":{"cpu":"500m",`<br>`"memory":"512Mi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"256Mi"}}}},`<br>`"namespace":"kcm-system"},`<br>`"kube-state-metrics":{"enabled":true},`<br>`"metrics-server":{"enabled":false},`<br>`"mothershipRules":{"create":true},`<br>`"promxy":{"enabled":true,`<br>`"replicaCount":3,`<br>`"resources":{"limits":{"cpu":"2000m",`<br>`"memory":"2Gi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"1Gi"}}},`<br>`"victoriametrics":{"enabled":true,`<br>`"vmalert":{"enabled":true},`<br>`"vmcluster":{"enabled":true,`<br>`"spec":{"replicationFactor":2,`<br>`"retentionPeriod":"30d",`<br>`"vminsert":{"replicaCount":2,`<br>`"resources":{"limits":{"cpu":"1000m",`<br>`"memory":"1Gi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"512Mi"}}},`<br>`"vmselect":{"replicaCount":2,`<br>`"resources":{"limits":{"cpu":"1000m",`<br>`"memory":"2Gi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"1Gi"}},`<br>`"storage":{"volumeClaimTemplate":{"spec":{"resources":{"requests":{"storage":"10Gi"}}}}}},`<br>`"vmstorage":{"replicaCount":3,`<br>`"resources":{"limits":{"cpu":"2000m",`<br>`"memory":"4Gi"},`<br>`"requests":{"cpu":"500m",`<br>`"memory":"2Gi"}},`<br>`"storage":{"volumeClaimTemplate":{"spec":{"resources":{"requests":{"storage":"100Gi"}}}}}}}}}}}` | KOF Mothership - Management cluster components |
| kof-mothership<br>.dependsOn | list | `["kof-operators",`<br>`"victoria-metrics-operator"]` | Wait for kof-operators to be ready |
| kof-mothership<br>.values | object | `{"cert-manager":{"enabled":true},`<br>`"cert-manager-service-template":{"enabled":true},`<br>`"cluster-api-visualizer":{"enabled":false},`<br>`"defaultRules":{"create":true,`<br>`"rules":{"general":true,`<br>`"kubernetesApps":true,`<br>`"kubernetesResources":true,`<br>`"kubernetesStorage":true,`<br>`"kubernetesSystem":true,`<br>`"node":true}},`<br>`"dex":{"enabled":false},`<br>`"global":{"storageClass":""},`<br>`"grafana":{"enabled":false,`<br>`"ingress":{"enabled":false,`<br>`"host":"grafana.example.com"},`<br>`"security":{"create_secret":true}},`<br>`"kcm":{"kof":{"acl":{"enabled":false,`<br>`"image":{"registry":"ghcr.io/k0rdent",`<br>`"repository":"kof/kof-acl-server"}},`<br>`"mcs":{},`<br>`"operator":{"crossNamespace":false,`<br>`"enabled":true,`<br>`"image":{"pullPolicy":"IfNotPresent",`<br>`"registry":"ghcr.io/k0rdent",`<br>`"repository":"kof/kof-operator-controller"},`<br>`"resources":{"limits":{"cpu":"500m",`<br>`"memory":"512Mi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"256Mi"}}}},`<br>`"namespace":"kcm-system"},`<br>`"kube-state-metrics":{"enabled":true},`<br>`"metrics-server":{"enabled":false},`<br>`"mothershipRules":{"create":true},`<br>`"promxy":{"enabled":true,`<br>`"replicaCount":3,`<br>`"resources":{"limits":{"cpu":"2000m",`<br>`"memory":"2Gi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"1Gi"}}},`<br>`"victoriametrics":{"enabled":true,`<br>`"vmalert":{"enabled":true},`<br>`"vmcluster":{"enabled":true,`<br>`"spec":{"replicationFactor":2,`<br>`"retentionPeriod":"30d",`<br>`"vminsert":{"replicaCount":2,`<br>`"resources":{"limits":{"cpu":"1000m",`<br>`"memory":"1Gi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"512Mi"}}},`<br>`"vmselect":{"replicaCount":2,`<br>`"resources":{"limits":{"cpu":"1000m",`<br>`"memory":"2Gi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"1Gi"}},`<br>`"storage":{"volumeClaimTemplate":{"spec":{"resources":{"requests":{"storage":"10Gi"}}}}}},`<br>`"vmstorage":{"replicaCount":3,`<br>`"resources":{"limits":{"cpu":"2000m",`<br>`"memory":"4Gi"},`<br>`"requests":{"cpu":"500m",`<br>`"memory":"2Gi"}},`<br>`"storage":{"volumeClaimTemplate":{"spec":{"resources":{"requests":{"storage":"100Gi"}}}}}}}}}}` | Values to pass to kof-mothership chart |
| kof-mothership<br>.values<br>.cert-manager | object | `{"enabled":true}` | Certificate manager configuration |
| kof-mothership<br>.values<br>.cluster-api-visualizer | object | `{"enabled":false}` | Cluster API visualizer |
| kof-mothership<br>.values<br>.defaultRules | object | `{"create":true,`<br>`"rules":{"general":true,`<br>`"kubernetesApps":true,`<br>`"kubernetesResources":true,`<br>`"kubernetesStorage":true,`<br>`"kubernetesSystem":true,`<br>`"node":true}}` | Default alerting and recording rules |
| kof-mothership<br>.values<br>.dex | object | `{"enabled":false}` | Dex SSO |
| kof-mothership<br>.values<br>.grafana | object | `{"enabled":false,`<br>`"ingress":{"enabled":false,`<br>`"host":"grafana.example.com"},`<br>`"security":{"create_secret":true}}` | Grafana configuration |
| kof-mothership<br>.values<br>.kcm | object | `{"kof":{"acl":{"enabled":false,`<br>`"image":{"registry":"ghcr.io/k0rdent",`<br>`"repository":"kof/kof-acl-server"}},`<br>`"mcs":{},`<br>`"operator":{"crossNamespace":false,`<br>`"enabled":true,`<br>`"image":{"pullPolicy":"IfNotPresent",`<br>`"registry":"ghcr.io/k0rdent",`<br>`"repository":"kof/kof-operator-controller"},`<br>`"resources":{"limits":{"cpu":"500m",`<br>`"memory":"512Mi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"256Mi"}}}},`<br>`"namespace":"kcm-system"}` | KCM integration settings |
| kof-mothership<br>.values<br>.kube-state-metrics | object | `{"enabled":true}` | Kube-state-metrics |
| kof-mothership<br>.values<br>.metrics-server | object | `{"enabled":false}` | Metrics server |
| kof-mothership<br>.values<br>.promxy | object | `{"enabled":true,`<br>`"replicaCount":3,`<br>`"resources":{"limits":{"cpu":"2000m",`<br>`"memory":"2Gi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"1Gi"}}}` | Promxy for federated queries |
| kof-mothership<br>.values<br>.victoriametrics | object | `{"enabled":true,`<br>`"vmalert":{"enabled":true},`<br>`"vmcluster":{"enabled":true,`<br>`"spec":{"replicationFactor":2,`<br>`"retentionPeriod":"30d",`<br>`"vminsert":{"replicaCount":2,`<br>`"resources":{"limits":{"cpu":"1000m",`<br>`"memory":"1Gi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"512Mi"}}},`<br>`"vmselect":{"replicaCount":2,`<br>`"resources":{"limits":{"cpu":"1000m",`<br>`"memory":"2Gi"},`<br>`"requests":{"cpu":"200m",`<br>`"memory":"1Gi"}},`<br>`"storage":{"volumeClaimTemplate":{"spec":{"resources":{"requests":{"storage":"10Gi"}}}}}},`<br>`"vmstorage":{"replicaCount":3,`<br>`"resources":{"limits":{"cpu":"2000m",`<br>`"memory":"4Gi"},`<br>`"requests":{"cpu":"500m",`<br>`"memory":"2Gi"}},`<br>`"storage":{"volumeClaimTemplate":{"spec":{"resources":{"requests":{"storage":"100Gi"}}}}}}}}}` | VictoriaMetrics cluster for metrics storage |
| kof-mothership<br>.values<br>.victoriametrics<br>.vmalert | object | `{"enabled":true}` | VMAlert for alerting |
| kof-operators | object | `{"enabled":true,`<br>`"notes":"CRDs and operators",`<br>`"values":{"grafana-operator":{"enabled":false},`<br>`"opentelemetry-operator":{"enabled":true},`<br>`"prometheus-operator-crds":{"enabled":true}}}` | KOF Operators - CRDs and operators required by other KOF charts |
| kof-operators<br>.values | object | `{"grafana-operator":{"enabled":false},`<br>`"opentelemetry-operator":{"enabled":true},`<br>`"prometheus-operator-crds":{"enabled":true}}` | Values to pass to kof-operators chart |
| kof-regional | object | `{"dependsOn":["kof-mothership"],`<br>`"enabled":true,`<br>`"notes":"Regional cluster templates",`<br>`"values":{"storage":{"victoria-logs-cluster":{"enabled":true,`<br>`"vlstorage":{"persistentVolume":{"size":"100Gi"}}},`<br>`"victoria-traces-cluster":{"enabled":true,`<br>`"vtstorage":{"persistentVolume":{"size":"100Gi"}}},`<br>`"victoriametrics":{"vmcluster":{"spec":{"vmstorage":{"storage":{"volumeClaimTemplate":{"spec":{"resources":{"requests":{"storage":"200Gi"}}}}}}}}}}}}` | KOF Regional - MultiClusterService template for regional clusters |
| kof-regional<br>.dependsOn | list | `["kof-mothership"]` | Wait for kof-mothership to be ready |
| kof-regional<br>.values | object | `{"storage":{"victoria-logs-cluster":{"enabled":true,`<br>`"vlstorage":{"persistentVolume":{"size":"100Gi"}}},`<br>`"victoria-traces-cluster":{"enabled":true,`<br>`"vtstorage":{"persistentVolume":{"size":"100Gi"}}},`<br>`"victoriametrics":{"vmcluster":{"spec":{"vmstorage":{"storage":{"volumeClaimTemplate":{"spec":{"resources":{"requests":{"storage":"200Gi"}}}}}}}}}}}` | Values to pass to kof-regional chart |
| kof-storage | object | `{"dependsOn":["kof-operators",`<br>`"kof-mothership"],`<br>`"enabled":false,`<br>`"notes":"Storage components",`<br>`"values":{"dex":{"enabled":false},`<br>`"external-dns":{"enabled":false},`<br>`"global":{"storageClass":""},`<br>`"grafana":{"enabled":false},`<br>`"kof-dashboards":{"enabled":false},`<br>`"promxy":{"enabled":true},`<br>`"victoria-logs-cluster":{"enabled":true,`<br>`"vlstorage":{"persistentVolume":{"size":"50Gi"}}},`<br>`"victoria-metrics-operator":{"enabled":false},`<br>`"victoria-traces-cluster":{"enabled":true,`<br>`"vtstorage":{"persistentVolume":{"size":"50Gi"}}},`<br>`"victoriametrics":{"enabled":false,`<br>`"vmcluster":{"enabled":true,`<br>`"spec":{"replicationFactor":2,`<br>`"retentionPeriod":"30d",`<br>`"vmstorage":{"replicaCount":2,`<br>`"storage":{"volumeClaimTemplate":{"spec":{"resources":{"requests":{"storage":"100Gi"}}}}}}}}}}}` | KOF Storage - Victoria Metrics, Logs, and Traces storage. Disabled by default for production (regional clusters handle storage). Enable for local/single-cluster deployments |
| kof-storage<br>.dependsOn | list | `["kof-operators",`<br>`"kof-mothership"]` | Wait for kof-operators to be ready |
| kof-storage<br>.values | object | `{"dex":{"enabled":false},`<br>`"external-dns":{"enabled":false},`<br>`"global":{"storageClass":""},`<br>`"grafana":{"enabled":false},`<br>`"kof-dashboards":{"enabled":false},`<br>`"promxy":{"enabled":true},`<br>`"victoria-logs-cluster":{"enabled":true,`<br>`"vlstorage":{"persistentVolume":{"size":"50Gi"}}},`<br>`"victoria-metrics-operator":{"enabled":false},`<br>`"victoria-traces-cluster":{"enabled":true,`<br>`"vtstorage":{"persistentVolume":{"size":"50Gi"}}},`<br>`"victoriametrics":{"enabled":false,`<br>`"vmcluster":{"enabled":true,`<br>`"spec":{"replicationFactor":2,`<br>`"retentionPeriod":"30d",`<br>`"vmstorage":{"replicaCount":2,`<br>`"storage":{"volumeClaimTemplate":{"spec":{"resources":{"requests":{"storage":"100Gi"}}}}}}}}}}` | Values to pass to kof-storage chart |
| victoria-metrics-operator | object | `{"dependsOn":["kof-operators"],`<br>`"enabled":true,`<br>`"notes":"VM CRDs and operator",`<br>`"repo":{"url":"https://victoriametrics.github.io/helm-charts/"},`<br>`"values":{"crds":{"cleanup":{"enabled":false},`<br>`"plain":true},`<br>`"global":{"cluster":{"dnsDomain":"cluster.local"}},`<br>`"operator":{"disable_prometheus_converter":true},`<br>`"serviceMonitor":{"enabled":true,`<br>`"vm":false}},`<br>`"version":"0.58.1"}` | Victoria Metrics Operator configuration |
| victoria-metrics-operator<br>.values | object | `{"crds":{"cleanup":{"enabled":false},`<br>`"plain":true},`<br>`"global":{"cluster":{"dnsDomain":"cluster.local"}},`<br>`"operator":{"disable_prometheus_converter":true},`<br>`"serviceMonitor":{"enabled":true,`<br>`"vm":false}}` | [Docs](https://github.com/VictoriaMetrics/helm-charts/tree/master/charts/victoria-metrics-operator#parameters) |
| victoria-metrics-operator<br>.version | string | `"0.58.1"` | Victoria Metrics Operator chart version |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
